---
layout: default
---

<div class="post-header">
   <h1 class="post-title-main">{% if page.homepage == true %} {{site.homepage_title}} {% else %}{{ page.title }}{% endif %}</h1>
</div>

<div class="post-content">

   {% if page.summary %}
      <div class="summary">{{page.summary}}</div>
   {% endif %}

   {% include toc.html %}

   {% if page.expand == true %}
      {% include expand.html %}
   {% endif %}

   {{content}}

   {% include linkrefs.html %}

</div>

{% if page.homepage != true %}
   <script>
      anchors.add('h2, h3, h4, h5');

      //anchor.js links
      var $anchors = $('.anchorjs-link');

      $anchors.on('click', function(e){
         var href = this.getAttribute('href');
         
         //stop original anchor event
         e.preventDefault();
         
         //update url
         history.replaceState({}, "", href);
         
         //scroll to position
         $('html, body').animate({
            scrollTop: $(href).offset().top - 40
         }), 100, 'snap';
      });

      //toc clickable-header
      if ($('#toc').length){ //check if table of contents exist
         //toc elements
         var $toc = $('#toc');
         
         $toc.on('click', 'a', function(e){
            e.preventDefault();
            var href = $(this).attr('href');
            
            //stop original anchor event
            e.preventDefault();
            
            //update url
            history.replaceState({}, "", href);
            
            //scroll to position
            $('html, body').animate({
               scrollTop: $(href).offset().top - 40
            }), 100, 'snap';
         });

         //h2 elements
         var $h2 = $('h2');

         $h2.on('click', function(e){
            e.preventDefault();
            var href = '#' + $(this).attr('id');
            
            //stop original anchor event
            e.preventDefault();
            
            //update url
            history.replaceState({}, "", href);
            
            //scroll to position
            $('html, body').animate({
               scrollTop: $(href).offset().top - 40
            }), 100, 'snap';
         });
      }

      //custom easing function
      $.extend(jQuery.easing,{snap:function(x,t,b,c,d) { return -c * ((t=t/d-1)*t*t*t - 1) + b; }});
   </script>
{% endif %}